# Refresh Token + Keychain Sharing example

This example shows how to use Refresh Token so that your users don't have to log in again. Besides that, it shows how you can have 2 apps share a Keychain so that they can share the Refresh Token.

## How to share a keychain?

To enable keychain sharing you'll have to define a keychain access group with the following format:
`<Bundle Seed Id>.<Group Name>`

e.g.: ABC1234DEF.mysharedgroup

The Bundle Seed Id is a unique (within the App Store) ten character string that is generated by Apple after you create your appId (using Apple's dev site). Each application identifier has the following format:

`<Bundle Seed Id>.<Bundle Indentifier>`

So each app that has the same Bundle Seed can access to values stored in groups with the same prefix so the apps:
* **ABC1234DEF.com.auth0.awesomeapp1**
* **ABC1234DEF.com.auth0.awesomeapp2**

Can read/write values stored in the group **ABC1234DEF.mysharedgroup**

In your project you'll need to add an entitlements file for each app declaring the access group. You can do it in capabilities tab of the project's target (under the label Keychain Sharing), just turn it on and add only the group name (without the Bundle Seed Id).

Here's an example using [UICKeyChainStore](https://github.com/kishikawakatsumi/UICKeyChainStore) to store/retrieve values of the keychain from multiple apps.

```objc
UICKeyChainStore *store = [UICKeyChainStore keyChainStoreWithService:@"Auth0" accessGroup:@"ABC1234DEF.mysharedgroup"];
NSString *refreshToken = [store stringForKey:@"refresh_token"];
... Do some stuff ...
[store setString:auth0User.refreshToken forKey:@"refresh_token"];
[store synchronize];
```
